(this.webpackJsonprpc=this.webpackJsonprpc||[]).push([[0],{16:function(t,e,n){},19:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var s,i=n(1),r=n.n(i),c=n(6),o=n.n(c),a=(n(16),n(2)),u=n(7),l=n(8),p=n(11),g=n(10),v=n(9),h=n.n(v),f=n.p+"static/media/scissor.634156ac.svg",y=n.p+"static/media/rock.bb112ecc.svg",b=n.p+"static/media/paper.17707fe4.svg";!function(t){t.Rock="Rock",t.Scissor="Scissor",t.Paper="Paper"}(s||(s={}));var j,d=new Map([[s.Rock,s.Scissor],[s.Paper,s.Rock],[s.Scissor,s.Paper]]);!function(t){t.going="Waiting for process",t.win="Win",t.loss="Loss",t.draw="Draw"}(j||(j={}));var O,m=function(t){if(null===t)return"";switch(t){case s.Scissor:return f;case s.Rock:return y;case s.Paper:return b}},k=(n(4),n(5),n(19),n(0)),S=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(t){var s;return Object(u.a)(this,n),(s=e.call(this,t)).tick=void 0,s.hovered=!1,s.interval=void 0,s.state={currentSign:s.props.sign,status:j.going},s.tick=s.props.sign.isPlayer?1e3:100,s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=0;this.interval=setInterval((function(){e+=1,t.hovered||t.setState((function(n){return{currentSign:{type:(i=e,Object.values(s)[i%3]),isPlayer:t.props.sign.isPlayer}};var i}))}),this.tick)}},{key:"toggle",value:function(){this.props.action&&(this.props.action(this.state.currentSign),this.hovered=!1)}},{key:"getWinOrLossClass",value:function(){return this.props.status===j.win?"bot-lose":this.props.status===j.loss?"player-lose":""}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var t=this;return Object(k.jsx)("div",{className:"".concat(this.props.sign.isPlayer?"player":"bot"," col item-center ").concat(this.getWinOrLossClass()),children:Object(k.jsx)("img",{className:"".concat(this.state.currentSign.isPlayer?"player-button":"flip-horizontally"," sign"),src:this.props.status===j.going?m(this.state.currentSign.type):m(this.props.sign.type),onMouseOver:function(){return t.props.sign.isPlayer?t.hovered=!0:""},onMouseLeave:function(){return t.hovered=!1},alt:"sign",onClick:function(){return t.toggle()}})})}}]),n}(r.a.Component),P=j.going,w={type:null,isPlayer:!0},x={type:null,isPlayer:!1};var C=function(){var t=Object(i.useState)(P),e=Object(a.a)(t,2),n=e[0],r=e[1],c=Object(i.useState)(w),o=Object(a.a)(c,2),u=o[0],l=o[1],p=Object(i.useState)(x),g=Object(a.a)(p,2),v=g[0],f=g[1];return Object(i.useEffect)((function(){u.type===v.type?r(j.draw):!function(t,e){if(null===t.type)throw new Error("Selected sign is null");return d.get(t.type)===e.type}(u,v)?r(j.loss):r(j.win),O=window.setTimeout((function(){r(j.going)}),3e3)}),[u,v]),Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)("div",{className:"container main",children:[Object(k.jsx)(S,{sign:u,action:function(t){O&&clearTimeout(O);var e={type:h.a.sample(Object.values(s))||null,isPlayer:!1};f(e),l(t)},status:n}),Object(k.jsx)(S,{sign:v,status:n})]})})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(e){var n=e.getCLS,s=e.getFID,i=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),s(t),i(t),r(t),c(t)}))};o.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(C,{})}),document.getElementById("root")),L()},4:function(t,e,n){},5:function(t,e,n){}},[[21,1,2]]]);
//# sourceMappingURL=main.aee1598a.chunk.js.map